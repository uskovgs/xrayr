read.table('  energy err_energy    flux_obs     err_obs flux_model telescope
1    5.5        1.5 0.023107881 0.006840489 0.02189408    ART-XC
2    9.5        2.5 0.026713759 0.005555746 0.01734031    ART-XC
3   16.0        4.0 0.006127518 0.003407448 0.00295466    ART-XC')
readLines('  energy err_energy    flux_obs     err_obs flux_model telescope
1    5.5        1.5 0.023107881 0.006840489 0.02189408    ART-XC
2    9.5        2.5 0.026713759 0.005555746 0.01734031    ART-XC
3   16.0        4.0 0.006127518 0.003407448 0.00295466    ART-XC')
readLines('  energy err_energy    flux_obs     err_obs flux_model telescope
1    5.5        1.5 0.023107881 0.006840489 0.02189408    ART-XC
2    9.5        2.5 0.026713759 0.005555746 0.01734031    ART-XC
3   16.0        4.0 0.006127518 0.003407448 0.00295466    ART-XC')
readr::read_lines('  energy err_energy    flux_obs     err_obs flux_model telescope
1    5.5        1.5 0.023107881 0.006840489 0.02189408    ART-XC
2    9.5        2.5 0.026713759 0.005555746 0.01734031    ART-XC
3   16.0        4.0 0.006127518 0.003407448 0.00295466    ART-XC')
devtools::document()
devtools::install()
devtools::install()
read.csv('qdp.csv')
df <- read.csv('qdp.csv')
usethis::use_data(df)
df_qdp <- read.csv('qdp.csv')
usethis::use_data(df_qdp)
pryr::mem_used()
devtools::document()
devtools::install()
usethis::use_r('data')
load("~/rrr/MyPackages/xrayr/data/df_qdp.rda")
usethis::use_data(df_qdp, internal = TRUE)
devtools::document()
load("~/rrr/MyPackages/xrayr/data/xray_spec.rda")
usethis::use_data()
usethis::use_data()
xray_spec <- df_qdp
usethis::use_data(xray_spec)
usethis::use_data(xray_spec)
devtools::document()
devtools::install()
library(xrayr)
knitr::opts_chunk$set(
collapse = TRUE,
comment = "#>"
)
library(xrayr)
library(xrayr)
knitr::opts_chunk$set(
collapse = TRUE,
comment = "#>"
)
xray_spec
xrayr::xray_spec
xrayr::xray_spec %>% knitr::kable()
library(xrayr)
xrayr::xray_spec %>% knitr::kable()
library(xrayr)
xrayr::xray_spec |>
knitr::kable()
library(xrayr)
xrayr::xray_spec |>
knitr::kable(format = 'html')
library(xrayr)
knitr::kable(xrayr::xray_specformat = 'html')
library(xrayr)
knitr::kable(xrayr::xray_spec, format = 'html')
head(xrayr::xray_spec, 10)
head(xrayr::xray_spec, 2)
head(xrayr::xray_spec, 2,5)
library(xrayr)
head(xray_spec, 5)
head(xray_spec, 5)
head(xray_spec, 5) |> knitr::kable()
library(xrayr)
head(xray_spec, 5)
library(xrayr)
library(ggplot2)
library(patchwork)
ggplot(data = xray_spec,
mapping = aes(x = energy, y = flux_model, xwidth=err_energy, color=telescope)) +
geom_point(aes(y = flux_obs), size=0.5) +
geom_xray_stepcount() +
geom_xray_pointrange(aes(y = flux_obs, ywidth = err_obs)) +
scale_x_log10(breaks=c(0.3,1,4,7,12,20)) + scale_y_log10() +
annotation_logticks() +
theme_xray_plot()
p1 <- ggplot(data = xray_spec,
mapping = aes(x = energy, y = flux_model, xwidth=err_energy, color=telescope)) +
geom_point(aes(y = flux_obs), size=0.5) +
geom_xray_stepcount() +
geom_xray_pointrange(aes(y = flux_obs, ywidth = err_obs)) +
scale_x_log10(breaks=c(0.3,1,4,7,12,20)) + scale_y_log10() +
annotation_logticks() +
theme_xray_plot()
p1
library(xrayr)
library(ggplot2)
ggplot(data = xray_spec,
mapping = aes(x = energy, y = flux_model, xwidth=err_energy, color=telescope)) +
geom_xray_stepcount() +
geom_xray_pointrange(aes(y = flux_obs, ywidth = err_obs)) +
scale_x_log10(breaks=c(0.3,1,4,7,12,20)) + scale_y_log10() +
annotation_logticks() +
theme_xray_plot()
ggplot(data = xray_spec,
mapping = aes(x = energy, y = flux_model, xwidth=err_energy, color=telescope)) +
geom_xray_stepcount() +
geom_xray_pointrange(aes(y = flux_obs, ywidth = err_obs)) +
scale_x_log10(breaks=c(0.3,1,4,7,12,20)) + scale_y_log10() +
annotation_logticks() +
scale_color_brewer(palette='Set1') +
theme_xray_plot()
devtools::document()
devtools::install()
devtools::build()
devtools::install(build_vignettes = T)
df <- readr::read_csv('qdp.csv')
xray_spec <- df
usethis::use_data(xray_spec)
devtools::build()
devtools::install()
devtools::install(build_vignettes = T)
devtools::install(build_vignettes = T)
devtools::install(build_vignettes = T)
devtools::install(build_vignettes = T)
devtools::check_built()
devtools::built()
devtools::build()
devtools::check()
mtcars
colnames(mtcars)
mtcars['cyl']
mtcars[!'cyl']
mtcars[colnames(mtcars) != 'cyl']
colnames(mtcars) != 'cyl'
devtools::build()
devtools::install(build_vignettes = T)
library(xrayr)
library(ggplot2)
devtools::build()
devtools::install(build_vignettes = T)
devtools::check()
usethis::use_package("ggplot2")
?ggplot2::aes
devtools::build()
?xrayr::theme_xray_plot
devtools::install()
?xrayr::theme_xray_plot
detach("package:xrayr", unload = TRUE)
devtools::install(build_vignettes = T)
devtools::document()
devtools::install(build_vignettes = T)
devtools::check()
devtools::document()
devtools::check()
devtools::document()
devtools::check()
library(ggplot2)
?geom_errorbar(aes())
devtools::install(build_vignettes = T)
xrayr::geom_xray_pointrange
?xrayr::geom_xray_pointrange
?xrayr::geom_xray_pointrange
?xrayr::geom_xray_pointrange
?xrayr::geom_xray_stepcount
usethis::use_r('julian_date')
devtools::document()
devtools::document()
devtools::check()
devtools::check()
devtools::document()
devtools::install()
devtools::install(build_vignettes = T)
#' MJD to grep
#' MJD = JD âˆ’ 2400000.5
#'
#' @param mjd
#'
#' @return
#' @export
#'
#' @examples
mjd2grep <- function(mjd){
j <- mjd + 2400000.5
return(jd2greg(j))
}
devtools::document()
devtools::install(build_vignettes = T)
devtools::document()
devtools::document()
devtools::document()
devtools::install(build_vignettes = T)
library(xrayr)
library(ggplot2)
knitr::opts_chunk$set(
collapse = TRUE,
comment = "#>"
)
library(xrayr)
library(ggplot2)
head(xray_spec, 5)
ggplot(
data = xray_spec,
mapping = aes(
x = energy,
y = flux_model,
xwidth = err_energy,
color = telescope
)
) +
geom_xray_stepcount() +
geom_xray_pointrange(aes(y = flux_obs, ywidth = err_obs),
upper_nsigma = 3, # default 2
min_y = 1e-2 # default NULL -> automatic
) +
scale_x_log10(breaks = c(0.3, 1, 4, 7, 12, 20)) +
scale_y_log10() +
annotation_logticks() +
scale_color_brewer(palette = 'Set1') +
xlab('Energy, keV') +
ylab('cts/s/keV') +
theme_xray_plot()
devtools::build()
devtools::check()
devtools::install(build_vignettes = T)
devtools::build_vignettes()
devtools::build()
